<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--jQuery link-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

    <script type="text/javascript" src="assets/javascript/game.js"></script>

    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

    <title>Crystal Game</title>
</head>

<body>
    <div class="container">
        <div class="jumbotron" style="padding: 0.714em 0.714em; ">
            <h1 class="display-4">Crystal Collector!</h1>
        </div>
    </div>

    <div class="container">
        <div class="jumbotron jumbotron-fluid" style="padding: 25px 0px;">
            <div class="container">
                <p class="lead" style="line-height: 2">You will be given a random number at the start of the game.</p>
                <!-- <br> -->
                <p class="lead" style="line-height: 2">There are four crystals below. By clicking on a crystal you will
                    ad a specific amount
                    of points to your total score.</p>
                <!-- <br> -->
                <p class="lead" style="line-height: 2">You win the game by matching your total score to the random
                    number, you lose the game
                    if your total score goes above the random number.</p>
                <!-- <br> -->
                <p class="lead" style="line-height: 2">The value of each crystal is hidden form you until you click on
                    it.</p>
                <!-- <br> -->
                <p class="lead" style="line-height: 2">Each time when the game starts, the game will change the values
                    of each crystal.</p>
                <!-- <br> -->
            </div>
        </div>
    </div>


    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="jumbotron jumbotron-fluid" style="padding: 2.500em 0.357em;">
                    <div class="container">
                        <h1 id="target-number" class="display-4"></h1>
                    </div>
                </div>
            </div>

            <div class="col-md-2">
                <div class="jumbotron jumbotron-fluid" style="padding: 3.400em 0.355em;">
                    <div class="container">
                        <p class="lead wins"></p>
                        <p class="lead loss"></p>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div id="crystals">
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="jumbotron jumbotron-fluid" style="padding: 10px 0px; margin: 1.071em 0.000em;">
                    <div class="container">
                        <p class="lead">Your total score is:</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="jumbotron jumbotron-fluid" style="padding: 1.786em 0.000em; margin-bottom: 0.000em">
                    <div class="container">
                        <h1 id="counter" class="display-4"></h1>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>

        $(document).ready(function () {

            var numberOne = 0;
            var numberTwo = 0;
            var numberThree = 0;
            var numberFour = 0;
            var numberFive = 0;
            var targetNumber;
            var counter = 0;


            $('#counter').text(counter);




            function newGame() {
                // number to win the game      
                // number to win the game   

                var random = Math.floor(Math.random() * 120) + 19;

                targetNumber = random;

                $('#target-number').text(targetNumber);

                // numbers for the crystals 
                // numbers for the crystals 

                while (numberOne === numberThree) {
                    numberOne = Math.floor(Math.random() * 12) + 1;
                }


                while (numberTwo === numberThree || numberTwo === numberOne) {
                    numberTwo = Math.floor(Math.random() * 12) + 1;
                }

                while (numberThree === numberOne || numberThree === numberTwo || numberThree === numberFour) {
                    numberThree = Math.floor(Math.random() * 12) + 1;
                }
                while (numberFour === numberOne || numberFour === numberTwo || numberFour === numberThree || numberFour === numberFive) {
                    numberFour = Math.floor(Math.random() * 12) + 1;
                }



            }

            newGame()
            console.log(numberOne);
            console.log(numberTwo);
            console.log(numberThree);
            console.log(numberFour);



            // Array with crystal values 
            // Array with crystal values 

            var value = [numberOne, numberTwo, numberThree, numberFour];

            console.log(value);

            var win = 0;
            var loss = 0;

            $('.wins').text('Wins: ' + win)
            $('.loss').text('Losses: ' + loss)

            var imageArray = [
                'assets/images/Screen Shot 2018-12-16 at 6.23.56 PM.png',
                'assets/images/Screen Shot 2018-12-16 at 6.23.36 PM.png',
                'assets/images/Screen Shot 2018-12-16 at 6.23.43 PM.png',
                'assets/images/Screen Shot 2018-12-16 at 6.23.48 PM.png'

            ];

            for (var i = 0; i < value.length; i++) {
                var imageCrystal = $('<img>');
                imageCrystal.addClass('crystal-image');
                imageCrystal.attr('src', imageArray[i])
                imageCrystal.attr('value', value[i]);
                $("#crystals").append(imageCrystal);
            }

            $('.crystal-image').on('click', function () {
                var crystalValue = ($(this).attr("value"));
                crystalValue = parseInt(crystalValue);
                counter += crystalValue;



                $('#counter').text(counter);

                if (counter === targetNumber) {
                    alert("You win!");
                    win++;
                    counter = 0;
                    $('#counter').text(counter);
                    newGame();
                }

                else if (counter >= targetNumber) {
                    alert("You lose!!");
                    loss++;
                    counter = 0;
                    $('#counter').text(counter);
                    newGame();
                }

                $('.wins').text('Wins: ' + win)
                $('.loss').text('Losses: ' + loss)



            });



        });


    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
</body>

</html>